# ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤](#—É–ª—É—á—à–µ–Ω–Ω–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-—Ç–æ–∫–µ–Ω–æ–≤)
2. [–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö](#—É—Ç–∏–ª–∏—Ç—ã-–¥–ª—è-—Ñ–æ—Ä–º–∞—Ç–æ–≤-–¥–∞–Ω–Ω—ã—Ö)
3. [–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ](#–≤–∞–ª–∏–¥–∞—Ü–∏—è-–Ω–∞-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ)
4. [–ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è Marzban API](#–∞–¥–∞–ø—Ç–µ—Ä—ã-–¥–ª—è-marzban-api)
5. [–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#—É–ª—É—á—à–µ–Ω–Ω–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
6. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–ø—É—Å—Ç—ã—Ö-—Å–æ—Å—Ç–æ—è–Ω–∏–π)
7. [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç–∏–ø—ã)

---

## üîê –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh —Ç–æ–∫–µ–Ω–∞

**–§–∞–π–ª:** `lib/api/client.ts`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ 401
- ‚úÖ –ü–æ–≤—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ refresh
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º refresh
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ development —Ä–µ–∂–∏–º–µ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```typescript
// –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ 401:
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è refreshAccessToken()
2. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ - –∑–∞–ø—Ä–æ—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º
3. –ï—Å–ª–∏ –Ω–µ —É—Å–ø–µ—à–Ω–æ - —Ç–æ–∫–µ–Ω—ã –æ—á–∏—â–∞—é—Ç—Å—è –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç –∏—Å—Ç–µ—á–µ–Ω–∏–µ access token
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π logout –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ refresh token

---

## üìä –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### –§–∞–π–ª: `lib/utils/formatters.ts`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

#### 1. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω
```typescript
formatPrice(14900) // "149.00 ‚ÇΩ"
formatPriceSimple(14900) // "149 ‚ÇΩ"
```

#### 2. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```typescript
formatDuration(2592000) // "30 –¥–Ω."
formatDurationMonths(2592000) // "1 –º–µ—Å—è—Ü"
```

#### 3. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö
```typescript
formatBytes(1073741824) // "1.00 GB"
formatBytesSimple(1073741824) // "1 GB"
```

#### 4. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
```typescript
formatDate("2024-11-18T20:00:00Z") // "18.11.2024, 20:00"
formatDateShort("2024-11-18T20:00:00Z") // "18.11.2024"
```

#### 5. –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
```typescript
isExpired("2024-11-18T20:00:00Z") // true/false
getTimeRemaining("2024-11-18T20:00:00Z") // "5 –¥–Ω. 3 —á."
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
import { formatPrice, formatDuration, formatBytes } from '@/lib/utils/formatters'

const price = formatPrice(tariff.price_amount)
const duration = formatDuration(tariff.duration_seconds)
const usage = formatBytes(stats.total)
```

---

## ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

### –§–∞–π–ª: `lib/utils/validation.ts`

**–í–ê–ñ–ù–û:** –ë—ç–∫–µ–Ω–¥ –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç email –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è, –ø–æ—ç—Ç–æ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

#### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è email
```typescript
validateEmail("user@example.com") // true
validateEmail("invalid") // false
```

#### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è (–ø–æ–ª–Ω–∞—è)
```typescript
const result = validatePassword("Password123!")
// {
//   valid: true/false,
//   errors: ["–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å..."]
// }
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
- –ú–∞–∫—Å–∏–º—É–º 128 —Å–∏–º–≤–æ–ª–æ–≤
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞
- –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞
- –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª

#### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)
```typescript
validatePasswordSimple("password") // { valid: false, message: "..." }
```

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
```typescript
validatePasswordMatch("pass123", "pass123") // true
```

#### 5. –í–∞–ª–∏–¥–∞—Ü–∏—è UUID
```typescript
validateUUID("550e8400-e29b-41d4-a716-446655440000") // true
```

#### 6. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
```typescript
validateReferralCode("ABC123") // true
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
import { validateEmail, validatePassword } from '@/lib/utils/validation'

if (!validateEmail(email)) {
  setError("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email")
}

const passwordValidation = validatePassword(password)
if (!passwordValidation.valid) {
  setError(passwordValidation.errors.join(", "))
}
```

---

## üîÑ –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è Marzban API

### –§–∞–π–ª: `lib/api/adapters.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:** –§–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç Marzban –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ê–¥–∞–ø—Ç–µ—Ä—ã –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã:**

#### 1. –ê–¥–∞–ø—Ç–µ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```typescript
// –ú–æ–∂–µ—Ç –±—ã—Ç—å: { up, down, total }
// –ò–ª–∏: { client_id, up, down, total, expires }
const stats = adaptUsageStats(data)
// –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π UsageStats
```

#### 2. –ê–¥–∞–ø—Ç–µ—Ä VPN –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```typescript
// –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç Marzban
const config = adaptVPNConfig(data)
// –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç { config: string, subscription_url: string }
```

#### 3. –ê–¥–∞–ø—Ç–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞ Marzban
```typescript
const client = adaptMarzbanClient(data)
// –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
```

#### 4. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –≥–µ—Ç—Ç–µ—Ä—ã
```typescript
safeGetString(obj, "key", "default") // string
safeGetNumber(obj, "key", 0) // number
safeGetBoolean(obj, "key", false) // boolean
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
import { adaptUsageStats, adaptVPNConfig } from '@/lib/api/adapters'

// –í API –∫–ª–∏–µ–Ω—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–¥–∞–ø—Ç–µ—Ä—ã
const stats = await apiClient.getProfileUsage(clientId)
const config = await apiClient.getVPNConfig(marzbanId)
```

---

## ‚ö†Ô∏è –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –§–∞–π–ª: `lib/api/errors.ts`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

#### 1. Enum –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫
```typescript
enum ApiErrorCode {
  INVALID_LOGIN = 'invalid login',
  USER_INACTIVE = 'user inactive',
  // ...
}
```

#### 2. –ü–µ—Ä–µ–≤–æ–¥—ã –æ—à–∏–±–æ–∫ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
```typescript
getErrorMessage("invalid login") // "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å"
getErrorMessage("user inactive") // "–ê–∫–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω"
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
```typescript
isAuthError(error) // true/false
isNetworkError(error) // true/false
```

**–í—Å–µ –æ—à–∏–±–∫–∏ API:**
- `invalid body` ‚Üí "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö"
- `email already exists` ‚Üí "Email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
- `invalid login` ‚Üí "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å"
- `user inactive` ‚Üí "–ê–∫–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω"
- `invalid refresh token` ‚Üí "–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞"
- `client not found` ‚Üí "–ö–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω"
- `not allowed` ‚Üí "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"
- –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ...

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
import { getErrorMessage, isAuthError } from '@/lib/api/errors'

try {
  await apiClient.login({ email, password })
} catch (error) {
  const message = getErrorMessage(error)
  if (isAuthError(error)) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  }
  setError(message)
}
```

---

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π

### –ó–∞—â–∏—Ç–∞ –æ—Ç null/undefined

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã API –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã –≤–º–µ—Å—Ç–æ null
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Array.isArray() –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ nullable –ø–æ–ª–µ–π –≤ —Ç–∏–ø–∞—Ö

**–ü—Ä–∏–º–µ—Ä—ã:**
```typescript
// getProfileKeys() –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤
const keys = await apiClient.getProfileKeys()
// keys –≤—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—É—Å—Ç–æ–π

// getMeClients() –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤
const clients = await apiClient.getMeClients()
// clients –≤—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—É—Å—Ç–æ–π

// getNodes() –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤
const nodes = await apiClient.getNodes()
// nodes –≤—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—É—Å—Ç–æ–π
```

**–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:**
```typescript
const [keys, setKeys] = useState<VPNKey[]>([])

useEffect(() => {
  const loadKeys = async () => {
    try {
      const data = await apiClient.getProfileKeys()
      setKeys(data || []) // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞
    } catch (error) {
      setKeys([]) // Fallback –Ω–∞ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
    }
  }
  loadKeys()
}, [])
```

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã

### –ù–æ–≤—ã–µ —Ç–∏–ø—ã

#### 1. MeResponse
```typescript
// –î–ª—è /me endpoint (—Ç–æ–ª—å–∫–æ JWT claims)
interface MeResponse {
  uid: string
  user_id: string
  roles: string[]
  exp: number
  iat: number
}
```

#### 2. CreateClientResponse
```typescript
// –î–ª—è POST /me/clients
interface CreateClientResponse {
  client_id: string // UUID –¥–ª—è revoke
  uuid: string // UUID –¥–ª—è VPN –∫–æ–Ω—Ñ–∏–≥–∞ (–¥—Ä—É–≥–æ–π UUID!)
}
```

**–í–ê–ñ–ù–û:** `client_id` –∏ `uuid` - —ç—Ç–æ **—Ä–∞–∑–Ω—ã–µ UUID**!

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh —Ç–æ–∫–µ–Ω–∞** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç –∏—Å—Ç–µ—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
2. ‚úÖ **–£—Ç–∏–ª–∏—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –∫—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω, –¥–∞—Ç, —Ä–∞–∑–º–µ—Ä–æ–≤
3. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ email –∏ –ø–∞—Ä–æ–ª—è –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. ‚úÖ **–ê–¥–∞–ø—Ç–µ—Ä—ã Marzban** - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
5. ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
6. ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç null** - –≤—Å–µ –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
7. ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã** - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö endpoints

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- üöÄ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
- üé® **UX** - –∫—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- üîÑ **–ì–∏–±–∫–æ—Å—Ç—å** - –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- üì± **–£–¥–æ–±—Å—Ç–≤–æ** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –∑–∞—â–∏—Ç–∞ –æ—Ç null/undefined

---

## üìö –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –ü—Ä–∏–º–µ—Ä: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```typescript
import { formatPrice, formatDuration } from '@/lib/utils/formatters'

const price = formatPrice(tariff.price_amount) // "149.00 ‚ÇΩ"
const period = formatDuration(tariff.duration_seconds) // "30 –¥–Ω."
```

### –ü—Ä–∏–º–µ—Ä: –í–∞–ª–∏–¥–∞—Ü–∏—è
```typescript
import { validateEmail, validatePassword } from '@/lib/utils/validation'

const emailValid = validateEmail(email)
const passwordValidation = validatePassword(password)
```

### –ü—Ä–∏–º–µ—Ä: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
import { getErrorMessage } from '@/lib/api/errors'

try {
  await apiClient.login({ email, password })
} catch (error) {
  setError(getErrorMessage(error))
}
```

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2024-11-18  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

